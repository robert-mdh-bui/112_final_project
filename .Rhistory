labs(
x = "Carrier",
y = "Total Air Miles"
)
dels <- data %>%
filter(
OP_UNIQUE_CARRIER %in% airlines
) %>%
filter(
!ORIGIN_STATE_ABR %in% c("AK","HI","PR","VI"),
!DEST_STATE_ABR %in% c("AK","HI","PR","VI"),
) %>%
group_by(OP_UNIQUE_CARRIER) %>%
summarise(
delay = sum(DEP_DELAY, na.rm=T),
airtime = sum(AIR_TIME, na.rm=T),
distance = sum(DISTANCE),
flights = n_distinct(V1),
av_delay = delay / flights,
av_distance = distance/flights
)
dels
dels %>%
ggplot()+
geom_col(aes(x=fct_reorder(OP_UNIQUE_CARRIER,distance),y=distance, fill = OP_UNIQUE_CARRIER))+
coord_flip()+
labs(
x = "Carrier",
y = "Total Air Miles"
)
dels <- data %>%
filter(
OP_UNIQUE_CARRIER %in% airlines
) %>%
filter(
!ORIGIN_STATE_ABR %in% c("AK","HI","PR","VI"),
!DEST_STATE_ABR %in% c("AK","HI","PR","VI"),
) %>%
group_by(OP_UNIQUE_CARRIER) %>%
summarise(
delay = sum(DEP_DELAY, na.rm=T),
airtime = sum(AIR_TIME, na.rm=T),
distance = sum(DISTANCE),
flights = n_distinct(V1),
av_delay = delay / flights,
av_distance = distance/flights
)
dels
dels %>%
ggplot()+
geom_col(aes(x=fct_reorder(OP_UNIQUE_CARRIER,distance),y=distance, fill = OP_UNIQUE_CARRIER))+
coord_flip()+
labs(
x = "Carrier",
y = "Total Air Miles",
fill = "Carrier"
)
dels <- data %>%
filter(
OP_UNIQUE_CARRIER %in% airlines
) %>%
filter(
!ORIGIN_STATE_ABR %in% c("AK","HI","PR","VI"),
!DEST_STATE_ABR %in% c("AK","HI","PR","VI"),
) %>%
group_by(OP_UNIQUE_CARRIER) %>%
summarise(
delay = sum(DEP_DELAY, na.rm=T),
distance = sum(DISTANCE),
flights = n_distinct(V1),
av_delay = delay / flights,
)
dels
dels %>%
ggplot()+
geom_col(aes(x=fct_reorder(OP_UNIQUE_CARRIER,distance),y=distance, fill = OP_UNIQUE_CARRIER))+
coord_flip()+
labs(
x = "Carrier",
y = "Total Air Miles",
fill = "Carrier"
)
dels <- data %>%
filter(
OP_UNIQUE_CARRIER %in% airlines
) %>%
filter(
!ORIGIN_STATE_ABR %in% c("AK","HI","PR","VI"),
!DEST_STATE_ABR %in% c("AK","HI","PR","VI"),
) %>%
group_by(OP_UNIQUE_CARRIER) %>%
summarise(
delay = sum(DEP_DELAY, na.rm=T),
distance = sum(DISTANCE),
flights = n_distinct(V1),
av_delay = delay / flights,
)
dels
dels %>%
ggplot()+
geom_col(aes(x=fct_reorder(OP_UNIQUE_CARRIER,distance),y=distance, fill = OP_UNIQUE_CARRIER))+
coord_flip()+
labs(
x = "Carrier",
y = "Total Air Miles",
fill = "Carrier"
)
dels %>%
ggplot()+
geom_col(aes(x=fct_reorder(OP_UNIQUE_CARRIER,av_delay),y=av_delay, fill = OP_UNIQUE_CARRIER))+
coord_flip()+
labs(
x = "Carrier",
y = "Average Delay",
fill = "Carrier"
)
dels <- data %>%
filter(
OP_UNIQUE_CARRIER %in% airlines
) %>%
filter(
!ORIGIN_STATE_ABR %in% c("AK","HI","PR","VI"),
!DEST_STATE_ABR %in% c("AK","HI","PR","VI"),
) %>%
group_by(OP_UNIQUE_CARRIER) %>%
summarise(
delay = sum(DEP_DELAY, na.rm=T),
distance = sum(DISTANCE),
flights = n_distinct(V1),
av_delay = delay / flights,
)
dels
dels %>%
ggplot()+
geom_col(aes(x=OP_UNIQUE_CARRIER,y=distance, fill = OP_UNIQUE_CARRIER))+
coord_flip()+
labs(
x = "Carrier",
y = "Total Air Miles",
fill = "Carrier"
)
dels %>%
ggplot()+
geom_col(aes(x=OP_UNIQUE_CARRIER,y=av_delay, fill = OP_UNIQUE_CARRIER))+
coord_flip()+
labs(
x = "Carrier",
y = "Average Delay",
fill = "Carrier"
)
dels <- data %>%
filter(
OP_UNIQUE_CARRIER %in% airlines
) %>%
filter(
!ORIGIN_STATE_ABR %in% c("AK","HI","PR","VI"),
!DEST_STATE_ABR %in% c("AK","HI","PR","VI"),
) %>%
group_by(OP_UNIQUE_CARRIER) %>%
summarise(
delay = sum(DEP_DELAY, na.rm=T),
distance = sum(DISTANCE),
flights = n_distinct(V1),
av_delay = delay / flights,
)
dels
p1 <- dels %>%
ggplot()+
geom_col(aes(x=OP_UNIQUE_CARRIER,y=distance, fill = OP_UNIQUE_CARRIER))+
coord_flip()+
labs(
x = "Carrier",
y = "Total Air Miles",
fill = "Carrier"
)
p2 <- dels %>%
ggplot()+
geom_col(aes(x=OP_UNIQUE_CARRIER,y=av_delay, fill = OP_UNIQUE_CARRIER))+
coord_flip()+
labs(
x = "Carrier",
y = "Average Delay",
fill = "Carrier"
)
dels <- data %>%
filter(
OP_UNIQUE_CARRIER %in% airlines
) %>%
filter(
!ORIGIN_STATE_ABR %in% c("AK","HI","PR","VI"),
!DEST_STATE_ABR %in% c("AK","HI","PR","VI"),
) %>%
group_by(OP_UNIQUE_CARRIER) %>%
summarise(
delay = sum(DEP_DELAY, na.rm=T),
distance = sum(DISTANCE),
flights = n_distinct(V1),
av_delay = delay / flights,
)
dels
p1 <- dels %>%
ggplot()+
geom_col(aes(x=OP_UNIQUE_CARRIER,y=distance, fill = OP_UNIQUE_CARRIER))+
coord_flip()+
labs(
x = "Carrier",
y = "Total Air Miles",
fill = "Carrier"
)
p2 <- dels %>%
ggplot()+
geom_col(aes(x=OP_UNIQUE_CARRIER,y=av_delay, fill = OP_UNIQUE_CARRIER))+
coord_flip()+
labs(
x = "Carrier",
y = "Average Delay",
fill = "Carrier"
)
ggplotly(p1,p2)
dels <- data %>%
filter(
OP_UNIQUE_CARRIER %in% airlines
) %>%
filter(
!ORIGIN_STATE_ABR %in% c("AK","HI","PR","VI"),
!DEST_STATE_ABR %in% c("AK","HI","PR","VI"),
) %>%
group_by(OP_UNIQUE_CARRIER) %>%
summarise(
delay = sum(DEP_DELAY, na.rm=T),
distance = sum(DISTANCE),
flights = n_distinct(V1),
av_delay = delay / flights,
)
dels
p1 <- dels %>%
ggplot()+
geom_col(aes(x=OP_UNIQUE_CARRIER,y=distance, fill = OP_UNIQUE_CARRIER))+
coord_flip()+
labs(
x = "Carrier",
y = "Total Air Miles",
fill = "Carrier"
)
p2 <- dels %>%
ggplot()+
geom_col(aes(x=OP_UNIQUE_CARRIER,y=av_delay, fill = OP_UNIQUE_CARRIER))+
coord_flip()+
labs(
x = "Carrier",
y = "Average Delay",
fill = "Carrier"
)
ggplotly(p1)
dels <- data %>%
filter(
OP_UNIQUE_CARRIER %in% airlines
) %>%
filter(
!ORIGIN_STATE_ABR %in% c("AK","HI","PR","VI"),
!DEST_STATE_ABR %in% c("AK","HI","PR","VI"),
) %>%
group_by(OP_UNIQUE_CARRIER) %>%
summarise(
delay = sum(DEP_DELAY, na.rm=T),
distance = sum(DISTANCE),
flights = n_distinct(V1),
av_delay = delay / flights,
)
dels
p1 <- dels %>%
ggplot()+
geom_col(aes(x=OP_UNIQUE_CARRIER,y=distance, fill = OP_UNIQUE_CARRIER))+
coord_flip()+
labs(
x = "Carrier",
y = "Total Air Miles",
fill = "Carrier"
)
p2 <- dels %>%
ggplot()+
geom_col(aes(x=OP_UNIQUE_CARRIER,y=av_delay, fill = OP_UNIQUE_CARRIER))+
coord_flip()+
labs(
x = "Carrier",
y = "Average Delay",
fill = "Carrier"
)
ggplotly(p1, tooltip = "text")
dels <- data %>%
filter(
OP_UNIQUE_CARRIER %in% airlines
) %>%
filter(
!ORIGIN_STATE_ABR %in% c("AK","HI","PR","VI"),
!DEST_STATE_ABR %in% c("AK","HI","PR","VI"),
) %>%
group_by(OP_UNIQUE_CARRIER) %>%
summarise(
delay = sum(DEP_DELAY, na.rm=T),
distance = sum(DISTANCE),
flights = n_distinct(V1),
av_delay = delay / flights,
)
dels
p1 <- dels %>%
ggplot()+
geom_col(aes(x=OP_UNIQUE_CARRIER,y=distance, fill = OP_UNIQUE_CARRIER))+
coord_flip()+
labs(
x = "Carrier",
y = "Total Air Miles",
fill = "Carrier"
)
p2 <- dels %>%
ggplot()+
geom_col(aes(x=OP_UNIQUE_CARRIER,y=av_delay, fill = OP_UNIQUE_CARRIER))+
coord_flip()+
labs(
x = "Carrier",
y = "Average Delay",
fill = "Carrier"
)
ggplotly(p1, tooltip = "distance")
dels <- data %>%
filter(
OP_UNIQUE_CARRIER %in% airlines
) %>%
filter(
!ORIGIN_STATE_ABR %in% c("AK","HI","PR","VI"),
!DEST_STATE_ABR %in% c("AK","HI","PR","VI"),
) %>%
group_by(OP_UNIQUE_CARRIER) %>%
summarise(
delay = sum(DEP_DELAY, na.rm=T),
distance = sum(DISTANCE),
flights = n_distinct(V1),
av_delay = delay / flights,
)
dels
p1 <- dels %>%
ggplot()+
geom_col(aes(x=OP_UNIQUE_CARRIER,y=distance, fill = OP_UNIQUE_CARRIER))+
coord_flip()+
labs(
x = "Carrier",
y = "Total Air Miles",
fill = "Carrier"
)
p2 <- dels %>%
ggplot()+
geom_col(aes(x=OP_UNIQUE_CARRIER,y=av_delay, fill = OP_UNIQUE_CARRIER))+
coord_flip()+
labs(
x = "Carrier",
y = "Average Delay",
fill = "Carrier"
)
ggplotly(p1, tooltip = "distance")
ggplotly(p2, tooltip = "av_delay")
dels <- data %>%
filter(
OP_UNIQUE_CARRIER %in% airlines
) %>%
filter(
!ORIGIN_STATE_ABR %in% c("AK","HI","PR","VI"),
!DEST_STATE_ABR %in% c("AK","HI","PR","VI"),
) %>%
group_by(OP_UNIQUE_CARRIER) %>%
summarise(
delay = sum(DEP_DELAY, na.rm=T),
distance = sum(DISTANCE),
flights = n_distinct(V1),
`Average Delay` = delay / flights,
)
dels
p1 <- dels %>%
ggplot()+
geom_col(aes(x=OP_UNIQUE_CARRIER,y=distance, fill = OP_UNIQUE_CARRIER))+
coord_flip()+
labs(
x = "Carrier",
y = "Total Air Miles",
fill = "Carrier"
)
p2 <- dels %>%
ggplot()+
geom_col(aes(x=OP_UNIQUE_CARRIER,y=`Average Delay`, fill = OP_UNIQUE_CARRIER))+
coord_flip()+
labs(
x = "Carrier",
y = "Average Delay",
fill = "Carrier"
)
ggplotly(p1, tooltip = "distance")
ggplotly(p2, tooltip = "`Average Delay`")
dels <- data %>%
filter(
OP_UNIQUE_CARRIER %in% airlines
) %>%
filter(
!ORIGIN_STATE_ABR %in% c("AK","HI","PR","VI"),
!DEST_STATE_ABR %in% c("AK","HI","PR","VI"),
) %>%
group_by(OP_UNIQUE_CARRIER) %>%
summarise(
delay = sum(DEP_DELAY, na.rm=T),
distance = sum(DISTANCE),
flights = n_distinct(V1),
`Average Delay` = delay / flights,
)
dels
p1 <- dels %>%
ggplot()+
geom_col(aes(x=OP_UNIQUE_CARRIER,y=distance, fill = OP_UNIQUE_CARRIER))+
coord_flip()+
labs(
x = "Carrier",
y = "Total Air Miles",
fill = "Carrier"
)
p2 <- dels %>%
ggplot()+
geom_col(aes(x=OP_UNIQUE_CARRIER,y=`Average Delay`, fill = OP_UNIQUE_CARRIER))+
coord_flip()+
labs(
x = "Carrier",
y = "Average Delay",
fill = "Carrier"
)
ggplotly(p1, tooltip = "distance")
ggplotly(p2, tooltip = "Average Delay")
dels <- data %>%
filter(
OP_UNIQUE_CARRIER %in% airlines
) %>%
filter(
!ORIGIN_STATE_ABR %in% c("AK","HI","PR","VI"),
!DEST_STATE_ABR %in% c("AK","HI","PR","VI"),
) %>%
group_by(OP_UNIQUE_CARRIER) %>%
summarise(
delay = sum(DEP_DELAY, na.rm=T),
distance = sum(DISTANCE),
flights = n_distinct(V1),
`Average Delay` = delay / flights,
)
dels
p1 <- dels %>%
ggplot()+
geom_col(aes(x=OP_UNIQUE_CARRIER,y=distance, fill = OP_UNIQUE_CARRIER))+
coord_flip()+
labs(
x = "Carrier",
y = "Total Air Miles",
fill = "Carrier"
)+
theme(legend.position='none')
p2 <- dels %>%
ggplot()+
geom_col(aes(x=OP_UNIQUE_CARRIER,y=`Average Delay`, fill = OP_UNIQUE_CARRIER))+
coord_flip()+
labs(
x = "Carrier",
y = "Average Delay",
fill = "Carrier"
)
ggplotly(p1, tooltip = "distance")
ggplotly(p2, tooltip = "Average Delay")
runApp('basic_app.R')
runApp('basic_app.R')
runApp('basic_app.R')
runApp('basic_app.R')
runApp('basic_app.R')
runApp('basic_app.R')
runApp('basic_app.R')
runApp('basic_app.R')
runApp('basic_app.R')
runApp('basic_app.R')
data <- fread("data18.csv")
View(data)
data <- fread("data18.csv")
data
data
data %>%
select(V1, OP_UNIQUE_CARRIER,ORIGIN_AIRPORT_ID,ORIGIN_CITY_NAME,DEST_AIRPORT_ID,DEP_DELAY,DISTANCE)
small <- data %>%
select(V1, OP_UNIQUE_CARRIER,ORIGIN_AIRPORT_ID,ORIGIN_CITY_NAME,DEST_AIRPORT_ID,DEP_DELAY,DISTANCE)
small
small <- data %>%
select(V1, OP_UNIQUE_CARRIER,ORIGIN_AIRPORT_ID,ORIGIN_CITY_NAME,DEST_AIRPORT_ID,DEP_DELAY,DISTANCE)
write.csv(small,"small.csv")
runApp('basic_app.R')
small <- data %>%
select(OP_UNIQUE_CARRIER,ORIGIN_AIRPORT_ID,ORIGIN_CITY_NAME,DEST_AIRPORT_ID,DEP_DELAY,DISTANCE)
write.csv(small,"small.csv")
runApp('basic_app.R')
small <- data %>%
filter(
!ORIGIN_STATE_ABR %in% c("AK","HI","PR","VI"),
!DEST_STATE_ABR %in% c("AK","HI","PR","VI"),
) %>%
select(OP_UNIQUE_CARRIER,ORIGIN_AIRPORT_ID,ORIGIN_CITY_NAME,DEST_AIRPORT_ID,DEP_DELAY,DISTANCE)
write.csv(small,"small.csv")
small <- data %>%
filter(
!ORIGIN_STATE_ABR %in% c("AK","HI","PR","VI"),
!DEST_STATE_ABR %in% c("AK","HI","PR","VI"),
) %>%
select(OP_UNIQUE_CARRIER,ORIGIN_AIRPORT_ID,ORIGIN_CITY_NAME,DEST_AIRPORT_ID,DEP_DELAY,DISTANCE)
write.csv(small,"small.csv")
runApp('basic_app.R')
